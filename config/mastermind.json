{
  "session_start_router": {
    "enabled": true,
    "force_complex_when_uncertain": true,
    "uncertainty_threshold": 0.6,
    "risk_lexicon_override": true
  },
  "planner": {
    "enabled": true,
    "model": "auto",
    "preferred_models": ["openai/gpt-5.2", "google/gemini-3-pro-preview"],
    "mini_mode_threshold": "trivial",
    "max_blueprint_tokens": 4000
  },
  "drift_detection": {
    "enabled": true,
    "file_count_trigger": 5,
    "test_failure_trigger": 3,
    "approach_change_detection": true,
    "cooldown_turns": 10,
    "max_escalations_per_session": 2
  },
  "context_packer": {
    "router_token_budget": 1200,
    "planner_token_budget": 4000,
    "include_repo_structure": true,
    "include_git_diff": true,
    "include_beads": true,
    "include_test_status": true,
    "include_serena_context": true,
    "include_memory_hints": true,
    "include_memory_content": true,
    "memory_token_budget": 800
  },
  "telemetry": {
    "enabled": true,
    "log_router_decisions": true,
    "log_planner_calls": true,
    "log_escalations": true,
    "jsonl_per_session": true
  },
  "safety": {
    "redact_secrets": true,
    "redact_env_vars": true,
    "redact_api_keys": true,
    "preserve_shape": true
  },
  "rollout_phase": 3
}